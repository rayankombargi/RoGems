{"ast":null,"code":"import'./Discover.css';import{useState,useEffect}from'react';import{Route}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import NavBar from'../NavBar/NavBar';import ExperiencePage from'../ExperiencePage/ExperiencePage';import Category from'../Category/Category';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Discover(){const[experiences,setExperiences]=useState([]);const fetchExperiences=async()=>{try{const response=await axios.get('/api/experiences/fetch_experiences/');setExperiences(response.data);}catch(error){console.error('Error fetching experiences:',error);}};useEffect(()=>{fetchExperiences();},[]);const[categories,setCategories]=useState([]);const fetchCategories=async()=>{try{const response=await axios.get('/api/categories/fetch_categories/');setCategories(response.data);}catch(error){console.error('Error fetching categories:',error);}};useEffect(()=>{fetchCategories();},[]);const[selectedExperience,setSelectedExperience]=useState(null);const[showExperiencePage,setShowExperiencePage]=useState(false);const handleSelectExperience=experience_id=>{setSelectedExperience(experiences.find(exp=>exp.rootPlaceId===experience_id));setShowExperiencePage(true);};const handleCloseExperience=()=>{setSelectedExperience(null);setShowExperiencePage(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Discover\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.7},animate:{opacity:1,scale:1},exit:{opacity:1,scale:0},transition:{duration:0.8},children:/*#__PURE__*/_jsx(\"h1\",{children:\" Discover Experiences \"})}),categories.length===0?/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.7},animate:{opacity:1,scale:1},exit:{opacity:1,scale:0},transition:{duration:0.8},className:\"empty-category-set\",children:/*#__PURE__*/_jsx(\"h2\",{children:\" No categories found \"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.7},animate:{opacity:1,scale:1},exit:{opacity:1,scale:0},transition:{duration:0.8},className:\"discover-content\",children:categories.filter(category=>category.name!=\"Experiences Of The Day\"&&category.name!=\"Featured This Week\").map(category=>{return/*#__PURE__*/_jsx(Category,{experiences:experiences,genre:category.name,onSelectExperience:experience_id=>handleSelectExperience(experience_id)});})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showExperiencePage&&selectedExperience&&/*#__PURE__*/_jsx(ExperiencePage,{experience:selectedExperience,onClose:handleCloseExperience})})]});}export default Discover;","map":{"version":3,"names":["useState","useEffect","Route","motion","AnimatePresence","axios","NavBar","ExperiencePage","Category","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Discover","experiences","setExperiences","fetchExperiences","response","get","data","error","console","categories","setCategories","fetchCategories","selectedExperience","setSelectedExperience","showExperiencePage","setShowExperiencePage","handleSelectExperience","experience_id","find","exp","rootPlaceId","handleCloseExperience","className","children","div","initial","opacity","scale","animate","exit","transition","duration","length","filter","category","name","map","genre","onSelectExperience","experience","onClose"],"sources":["C:/Users/Rayan/Documents/VS Code WebDev/RobloxExperienceFinder/frontend/src/components/Discover/Discover.jsx"],"sourcesContent":["import './Discover.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport axios from 'axios';\r\n\r\nimport NavBar from '../NavBar/NavBar';\r\nimport ExperiencePage from '../ExperiencePage/ExperiencePage';\r\nimport Category from '../Category/Category';\r\n\r\nfunction Discover() {\r\n\r\n    const [experiences, setExperiences] = useState([]);\r\n    const fetchExperiences = async () => {\r\n        try {\r\n            const response = await axios.get('/api/experiences/fetch_experiences/');\r\n            setExperiences(response.data);\r\n        } catch(error) {\r\n            console.error('Error fetching experiences:', error);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        fetchExperiences();\r\n    }, [])\r\n\r\n    const [categories, setCategories] = useState([]);\r\n    const fetchCategories = async () => {\r\n        try {\r\n            const response = await axios.get('/api/categories/fetch_categories/');\r\n            setCategories(response.data);\r\n        } catch(error) {\r\n            console.error('Error fetching categories:', error);\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        fetchCategories();\r\n    }, [])\r\n\r\n    const [selectedExperience, setSelectedExperience] = useState(null);\r\n    const [showExperiencePage, setShowExperiencePage] = useState(false);\r\n\r\n    const handleSelectExperience = (experience_id) => {\r\n        setSelectedExperience(\r\n            experiences.find((exp) => exp.rootPlaceId === experience_id)\r\n        );\r\n        setShowExperiencePage(true);\r\n    };\r\n\r\n    const handleCloseExperience = () => {\r\n        setSelectedExperience(null);\r\n        setShowExperiencePage(false);\r\n    };\r\n\r\n    return (\r\n        <div className='Discover'>\r\n            <NavBar />\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.7 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 1, scale: 0 }}\r\n                transition={{ duration: 0.8 }}\r\n            >\r\n                <h1> Discover Experiences </h1>\r\n            </motion.div>\r\n            {categories.length === 0 ? (\r\n                <motion.div\r\n                    initial={{ opacity: 0, scale: 0.7 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    exit={{ opacity: 1, scale: 0 }}\r\n                    transition={{ duration: 0.8 }}\r\n                    className='empty-category-set'\r\n                >\r\n                    <h2> No categories found </h2>\r\n                </motion.div>\r\n            ) : (\r\n                <>\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.7 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        exit={{ opacity: 1, scale: 0 }}\r\n                        transition={{ duration: 0.8 }}\r\n                        className='discover-content'\r\n                    >\r\n                        {categories.filter((category) => category.name != \"Experiences Of The Day\" && category.name != \"Featured This Week\").map((category) => {\r\n                            return (\r\n                                <Category \r\n                                experiences={experiences} \r\n                                genre={category.name}\r\n                                onSelectExperience={(experience_id) => handleSelectExperience(experience_id)}/>\r\n                            )\r\n                        })}\r\n                    </motion.div> \r\n                </>\r\n            )}\r\n            <AnimatePresence>\r\n                {showExperiencePage && selectedExperience && <ExperiencePage experience={selectedExperience} onClose={handleCloseExperience} />}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Discover;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}